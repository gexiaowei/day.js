# 更新日志

## [未发布]

### 修复

- 修复了 macOS 平台上不支持的 `navigationBarTitleDisplayMode` 和 `navigationBarTrailing` 功能
- 修复公历日期的重复周期计算问题，确保正确显示下一个重复日期的倒计时
- 统一公历日期格式化为 "yyyy 年 MM 月 dd 日" 格式，保持界面一致性
- 修复农历年份计算错误，使用公历年份代替内部计算年份，确保正确显示农历日期
- 修复编译警告：未使用的变量和可以使用常量的变量声明
- 修复在 macOS 平台上使用 AppKit 替代 UIKit，确保图片正确显示
- 修改图片选择为本地文件选择，替代照片库选择，提高兼容性
- 修复本地图片选择功能无法使用的问题，优化按钮交互逻辑
- 修复设置界面在 macOS 上不支持 TabView 页面样式的问题，使用 ZStack 和条件渲染替代
- 优化设置界面选项卡切换，解决卡顿问题，提升用户体验
- 修复设置界面选项卡按钮点击区域问题，确保整个按钮区域都可响应点击
- 修复 Dock 栏图标未正确隐藏的问题，通过添加 Info.plist 设置和应用启动前配置
- 修复顶层表达式编译错误，将隐藏 Dock 图标的代码移至初始化方法中
- 修复 AppDelegate 初始化方法缺少 override 关键字的编译错误
- 修复应用初始化时 NSApp 为 nil 导致的崩溃问题，优化 Dock 图标隐藏逻辑
- 修复 Dock 图标隐藏不彻底的问题，使用 LSUIElement 字符串值 "1" 替代布尔值，并移除运行时设置代码

### 添加

- 添加农历和公历选择功能
- 添加重复提醒周期功能（天/月/年）
- 修复农历日期的重复周期计算，正确显示下一个农历日期对应的公历日期
- 添加自定义图片功能，允许用户为提醒事件上传和显示图片
- 优化图片显示为 1:1 比例，提高界面美观度
- 美化事件列表界面，添加卡片阴影、边框和上下文菜单，提升用户体验
- 美化填写事件页面，使用卡片式布局、图形化日期选择器和自定义按钮，提升用户体验
- 添加应用程序 logo
- 添加设置界面，支持通用设置、同步设置和关于信息
- 添加任务栏图标功能，支持左键显示事件列表，右键显示设置和退出选项

### 变更

- 从主界面移除关于按钮，将关于信息整合到设置界面中
- 移除启动屏幕，提高应用启动速度
- 将应用转为任务栏应用，隐藏 Dock 栏图标，提高系统整洁度
